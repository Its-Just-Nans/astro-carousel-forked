---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Carousel from "~";
import type { ComponentProps } from "astro/types";

const imagesPreview = [
  "https://a.storyblok.com/f/95455/1350x1080/3ef7748922/p5240368.jpg",
  "https://a.storyblok.com/f/95455/1350x1080/231d2407ea/p4030184.jpg",
  "https://a.storyblok.com/f/95455/1350x1080/4aee2a00f4/p5240221.jpg",
  "https://a.storyblok.com/f/186233/1280x1920/9563a35d39/20230714-4.jpg",
];

const images: ComponentProps<typeof Carousel>["images"] = [
  {
    src: "https://a.storyblok.com/f/95455/1350x1080/3ef7748922/p5240368.jpg",
    alt: "",
    format: "webp",
    width: 1350,
    height: 1080,
    widths: [450, 675, 1350],
  },
  {
    src: "https://a.storyblok.com/f/95455/1350x1080/231d2407ea/p4030184.jpg",
    alt: "",
    format: "webp",
    width: 1350,
    height: 1080,
    widths: [450, 675, 1350],
  },
  {
    src: "https://a.storyblok.com/f/95455/1350x1080/4aee2a00f4/p5240221.jpg",
    alt: "",
    format: "webp",
    width: 1350,
    height: 1080,
    widths: [450, 675, 1350],
  },
  {
    src: "https://a.storyblok.com/f/186233/1280x1920/9563a35d39/20230714-4.jpg",
    alt: "",
    format: "webp",
    width: 1280,
    height: 1920,
    widths: [450, 675, 1350],
  },
];
---

<Layout title="Welcome to Astro.">
  <main>
    <div class="entry">
      <ul
        class="entry__entries"
        id="carouselTargetList"
      >
        {
          imagesPreview.map((img, i) => {
            return (
              <li class="entry__elem">
                <a
                  href={`./?image=${i}`}
                  data-carousel-index={i}
                  class="entry__link"
                >
                  <Image
                    src={img}
                    alt=""
                    width="600"
                    height="600"
                    widths={[225, 450, 675, 1350]}
                    class="entry__img"
                  />
                </a>
              </li>
            );
          })
        }
      </ul>
      <Carousel images={images} />
    </div>
  </main>
</Layout>

<style lang="scss" is:global>
  .entry {
    &__entries {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      justify-content: center;
      align-items: center;
      gap: 8px;
      margin: 0;
      padding: 0;
      list-style: none;
    }

    &__elem {
      &:hover {
        cursor: pointer;
      }
    }

    &__img {
      width: 100%;
      height: auto;
    }

    &__link {
      display: block;
    }
  }
</style>
